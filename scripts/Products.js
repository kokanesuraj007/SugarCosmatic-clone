let lips = [
    {
        "id": 1,
        "title": "SMUDGE ME NOT LIQUID LIPSTICK",
        "mrp": 800,
        "price": 640,
        "discount": 20,
        "img": "https://cdn.shopify.com/s/files/1/0906/2558/products/sugar-cosmetics-plush-crush-creme-crayon-13974621519955.progressive.jpg?v=1580456731",
        "rat-img": "https://thumbs.dreamstime.com/b/flat-yellow-award-star-illustration-flat-yellow-award-star-illustration-rating-icon-121555804.jpg",
        "rat": "4.8",

    },
    {
        "id": 2,
        "title": "SMUDGE ME NOT LIP DUO",
        "mrp": 1000,
        "price": 700,
        "discount": 30,
        "img": "https://cdn.shopify.com/s/files/1/0906/2558/products/sugar-cosmetics-smudge-me-not-lip-duo-01-brazen-raisin-burgundy-13200661643347.progressive.jpg?v=1577305698",
        "rat-img": "https://thumbs.dreamstime.com/b/flat-yellow-award-star-illustration-flat-yellow-award-star-illustration-rating-icon-121555804.jpg",
        "rat": "4.6",
    },
    {
        "id": 3,
        "title": "SMUDGE ME NOT MINIS SET- BLACK",
        "mrp": 600,
        "price": 480,
        "discount": 20,
        "img": "https://cdn.shopify.com/s/files/1/0906/2558/products/sugar-cosmetics-smudge-me-not-minis-set-black-14964843151443.progressive.jpg?v=1611061746",
        "rat-img": "https://thumbs.dreamstime.com/b/flat-yellow-award-star-illustration-flat-yellow-award-star-illustration-rating-icon-121555804.jpg",
        "rat": "4.2",
    },
    {
        "id": 4,
        "title": "PLUSH CRUSH CREME CRAYON",
        "mrp": 700,
        "price": 553,
        "discount": 21,
        "img": "https://cdn.shopify.com/s/files/1/0906/2558/products/sugar-cosmetics-plush-crush-creme-crayon-13974621519955.progressive.jpg?v=1580456731",
        "rat-img": "https://thumbs.dreamstime.com/b/flat-yellow-award-star-illustration-flat-yellow-award-star-illustration-rating-icon-121555804.jpg",
        "rat": "4.3",
    },
    {
        "id": 5,
        "title": "MATTLE MATTE LIPSTICK",
        "mrp": 900,
        "price": 630,
        "discount": 30,
        "img": "https://cdn.shopify.com/s/files/1/0906/2558/products/sugar-cosmetics-mettle-matte-lipstick-01-athena-red-terracotta-13200497737811.progressive.jpg?v=1577303422",
        "rat-img": "https://thumbs.dreamstime.com/b/flat-yellow-award-star-illustration-flat-yellow-award-star-illustration-rating-icon-121555804.jpg",
        "rat": "4.9",
    },
    {
        "id": 6,
        "title": "MATTE ATTACK LIPSTICK",
        "mrp": 750,
        "price": 600,
        "discount": 20,
        "img": "https://cdn.shopify.com/s/files/1/0906/2558/products/1_6f55bcac-3e42-4253-88ee-cec0fa43c62a.jpg?v=1645608270",
        "rat-img": "https://thumbs.dreamstime.com/b/flat-yellow-award-star-illustration-flat-yellow-award-star-illustration-rating-icon-121555804.jpg",
        "rat": "4.6",
    },
    {
        "id": 7,
        "title": "LYRA COOL TONED PLUM",
        "mrp": 1000,
        "price": 850,
        "discount": 15,
        "img": "https://cdn.shopify.com/s/files/1/0906/2558/products/sugar-cosmetics-mettle-liquid-lipstick-01-lyra-cool-toned-plum-13200549380179.progressive.jpg?v=1577293611",
        "rat-img": "https://thumbs.dreamstime.com/b/flat-yellow-award-star-illustration-flat-yellow-award-star-illustration-rating-icon-121555804.jpg",
        "rat": "4.7",
    },
    {
        "id": 8,
        "title": "BIG BANG BERRY WINE",
        "mrp": 650,
        "price": 507,
        "discount": 22,
        "img": "https://cdn.shopify.com/s/files/1/0906/2558/products/sugar-cosmetics-it-s-a-pout-time-vivid-lipstick-01-the-big-bang-berry-wine-13204815937619.progressive.jpg?v=1577267065",
        "rat-img": "https://thumbs.dreamstime.com/b/flat-yellow-award-star-illustration-flat-yellow-award-star-illustration-rating-icon-121555804.jpg",
        "rat": "4.5",
    },
    {
        "id": 9,
        "title": "NEVER SAY DRY LIPSTICK",
        "mrp": 850,
        "price": 680,
        "discount": 20,
        "img": "https://cdn.shopify.com/s/files/1/0906/2558/products/sugar-cosmetics-mettle-matte-lipstick-01-athena-red-terracotta-13200497737811.progressive.jpg?v=1577303422",
        "rat-img": "https://thumbs.dreamstime.com/b/flat-yellow-award-star-illustration-flat-yellow-award-star-illustration-rating-icon-121555804.jpg",
        "rat": "5.0",
    },
    {
        "id": 10,
        "title": "RENEE FAB-5",
        "mrp": 580,
        "price": 522,
        "discount": 10,
        "img": "https://cdn.shopify.com/s/files/1/0906/2558/products/1_1da9dee5-9c2e-4135-994c-9b7d2ca23e6b.jpg?v=1641915296",
        "rat-img": "https://thumbs.dreamstime.com/b/flat-yellow-award-star-illustration-flat-yellow-award-star-illustration-rating-icon-121555804.jpg",
        "rat": "4.3",
    },
    {
        "id": 10,
        "title": "RENEE FAB-5",
        "mrp": 500,
        "price": 410,
        "discount": 18,
        "img": "https://cdn.shopify.com/s/files/1/0906/2558/products/1_ef579f2e-602e-4d2f-bed2-bf0efdf4f184.jpg?v=1644325813",
        "rat-img": "https://thumbs.dreamstime.com/b/flat-yellow-award-star-illustration-flat-yellow-award-star-illustration-rating-icon-121555804.jpg",
        "rat": "4.3",
    },
    {
        "id": 10,
        "title": "RENEE FAB-5",
        "mrp": 580,
        "price": 522,
        "discount": 10,
        "img": "https://cdn.shopify.com/s/files/1/0906/2558/products/01_9e0bf9bb-92a6-45ca-8ce4-ce7d58c617ac.jpg?v=1639496863",
        "rat-img": "https://thumbs.dreamstime.com/b/flat-yellow-award-star-illustration-flat-yellow-award-star-illustration-rating-icon-121555804.jpg",
        "rat": "4.3",
    }
]

localStorage.setItem("lips", JSON.stringify(lips));

let lipsData = JSON.parse(localStorage.getItem("lips")) || [];
displayData(lipsData);

let total = lipsData.length;
document.getElementById("parah2").innerText=`Lips Makeup - ${total} item`

// .working on filters-------

function sortprice(){
  var selected=document.querySelector("#sorting").value
  if(selected=="Htl"){
      lipsData.sort(function(a,b){
          return Number(b.price)-Number(a.price);
      });
  }
  
  if(selected=="Lth"){
      lipsData.sort(function(a,b){
          return Number(a.price)-Number(b.price);
      });
  }
  displayData(lipsData)
}
// filter rating----------------------------

function filterrating(){
    var selected=document.querySelector("#filtering").value
    if(selected=="Htl"){
        lipsData.sort(function(a,b){
            return Number(b.rat)-Number(a.rat);
        });
    }
    
    if(selected=="Lth"){
        lipsData.sort(function(a,b){
            return Number(a.rat)-Number(b.rat);
        });
    }
    displayData(lipsData)
  }

function displayData(lipsData) {
 
    document.querySelector(".lipstick-grid").innerHTML=null;

    lipsData.map((elem) => {
        let box = document.createElement("div");
        box.setAttribute("class", "boxdiv");

        let img = document.createElement("img");
        img.setAttribute("class","img-lips");
        img.src = elem.img;

        let title = document.createElement("h4");
        title.innerText = elem.title;

        let box2 = document.createElement("div");
        box2.setAttribute("class","box2");

        let mrp = document.createElement("p");
        mrp.setAttribute("class","mrp-div");
        mrp.innerText = `₹${elem.mrp}`;

        let price = document.createElement("p");
        price.innerText = `₹${elem.price}`;

        let disc= document.createElement("p");
        disc.setAttribute("class","disc");
        disc.innerText = `(${elem.discount}% Off)`

        box2.append(mrp,price,disc);

        let box3 = document.createElement("div");
        box3.setAttribute("class", "rating-div");

        let ratImg = document.createElement("img");
        ratImg.setAttribute("class", "rat-img")
        ratImg.src = "https://img.favpng.com/8/13/19/star-yellow-clip-art-png-favpng-ySJ8CczE2SNqYZVBduDc6rbf9.jpg";

        let rat = document.createElement("p");
        rat.innerText = elem.rat;

        box3.append(ratImg,rat);

        let box4 = document.createElement("div");
        box4.setAttribute("class","box4");

        let heart = document.createElement("img");
        heart.src = "https://in.sugarcosmetics.com/favoriteBorderBlack.svg"

        let heartbtn = document.createElement("div");
        heartbtn.setAttribute("class","heartbtn");

        heartbtn.append(heart);

        heartbtn.addEventListener("click",()=>{
            alert("item added to Wishlist");
             window.location.href="gotoWishlist.html";
        })
        

        let btn = document.createElement("button");
        btn.setAttribute("class", "btn-cart")
        btn.innerText = "ADD TO CART";
        btn.addEventListener("click",function(){
             gotoCart(elem);
        });
        
        box4.append(heartbtn,btn);
        box.append(img,title,box2,box3,box4);

        box.addEventListener("mouseover",show);
        function show(){
            heartbtn.style.display="block";
            btn.style.display="block";
        }
        box.addEventListener("mouseout",hide);
        function hide(){
            heartbtn.style.display="none";
            btn.style.display="none";
        }


        document.querySelector(".lipstick-grid").append(box);
    });
}
let lipArr = [];
function gotoCart(elem){
    alert("item added to Cart");
    document.querySelector(".cartcount").style.display="block";
    document.querySelector(".cartcount").innerText++;
    lipArr.push(elem);
    localStorage.setItem("cart",JSON.stringify(lipArr));
}

// going to cart page-------------------------

function cartPage(){
    window.location.href="CartPage.html";
}